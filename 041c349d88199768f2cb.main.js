(()=>{"use strict";var e,t={7840:(e,t,n)=>{var a=n(7294),r=n(3935),o=n(9656),l=n(7424),c=n(5281),s=n(9681),i=n(8500),u=n(6156);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=(0,c.UY)({admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{firstName:"",lastName:"",signedIn:!1,isDataFetched:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ADMIN_DATA":return m(m({},e),t.payload);default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],total:0,isDataFetched:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CATEGORIES":return f(f({},e),t.payload);default:return e}}}),v=(0,c.MT)(h,(0,i.Uo)((0,c.md)(s.Z)));var g=n(4232);const _={root:"root__2a42QXqkM",formContainer:"formContainer__fIM8h3R6A",iconContainer:"iconContainer__13Aok0Paq",iconSignIn:"iconSignIn__3QWRKTC3k",submitBtn:"submitBtn__1iiuee0Xp submitBtn__2lAA_cPS8 root__fOb7TSVZY"},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))};var E,y,C,k,N,w,O,S,x,I,Z,P,B,D,M=n(2137),A=n(4699),T=n(7757),q=n.n(T),j=n(831),F=n(3209),$=n(2465),H=(0,g.gql)(E||(E=(0,$.Z)(["\n  mutation($email: String!, $password: String!) {\n    adminLogin(email: $email, password: $password) {\n      firstname\n      lastname\n      token\n    }\n  }\n"]))),L=(0,g.gql)(y||(y=(0,$.Z)(["\n  mutation AdminMassDeleteCustomers($customerIds: [String]) {\n    adminMassDeleteCustomers(customerIds: $customerIds)\n  }\n"]))),R=(0,g.gql)(C||(C=(0,$.Z)(["\n  mutation DeleteCustomer($id: ID!) {\n    adminDeleteCustomer(id: $id)\n  }\n"]))),V=(0,g.gql)(k||(k=(0,$.Z)(["\n  mutation(\n    $email: String\n    $password: String\n    $firstname: String\n    $lastname: String\n  ) {\n    adminAddCustomer(\n      customerData: {\n        email: $email\n        password: $password\n        firstname: $firstname\n        lastname: $lastname\n      }\n    )\n  }\n"]))),U=(0,g.gql)(N||(N=(0,$.Z)(["\n  mutation($id: ID!, $customerData: CustomerDataInput) {\n    adminUpdateCustomer(id: $id, customerData: $customerData)\n  }\n"]))),G=(0,g.gql)(w||(w=(0,$.Z)(["\n  mutation($productInput: ProductInput!) {\n    adminCreateProduct(productInput: $productInput) {\n      _id\n      title\n      image\n      brand\n      description\n      price\n      categories {\n        title\n      }\n    }\n  }\n"]))),W=(0,g.gql)(O||(O=(0,$.Z)(["\n  mutation($productId: ID!, $productInput: ProductInput) {\n    adminUpdateProduct(\n      productId: $productId\n      productInput: $productInput\n    ) {\n      _id\n    }\n  }\n"]))),z=(0,g.gql)(S||(S=(0,$.Z)(["\n  mutation($id: ID!) {\n    adminDeleteProduct(id: $id) {\n      title\n    }\n  }\n"]))),Y=(0,g.gql)(x||(x=(0,$.Z)(["\n  mutation($categoryData: CategoryInputData!) {\n    adminAddCategory(categoryData: $categoryData)\n  }\n"]))),Q=(0,g.gql)(I||(I=(0,$.Z)(["\n  mutation($categoryId: ID!) {\n    adminDeleteCategory(categoryId: $categoryId)\n  }\n"]))),X=(0,g.gql)(Z||(Z=(0,$.Z)(["\n  mutation($categoryId: ID!, $categoryData: CategoryInputData!) {\n    adminUpdateCategory(\n      categoryId: $categoryId\n      categoryData: $categoryData\n    )\n  }\n"]))),K=(0,g.gql)(P||(P=(0,$.Z)(["\n  mutation($orderId: ID) {\n    adminDeleteOrder(orderId: $orderId)\n  }\n"]))),J=(0,g.gql)(B||(B=(0,$.Z)(["\n  mutation($orderIds: [ID]!) {\n    adminMassDeleteOrders(orderIds: $orderIds)\n  }\n"]))),ee=(0,g.gql)(D||(D=(0,$.Z)(["\n  mutation($orderId: ID!, $status: String) {\n    adminChangeOrderStatus(orderId: $orderId, status: $status) {\n      id\n      orderNumber\n      createdAt\n      shippingTotal\n      subTotal\n      grandTotal\n      totalQty\n      orderStatus\n      customer {\n        firstname\n        lastname\n        email\n      }\n    }\n  }\n"]))),te=function(e){return{type:"SET_ADMIN_DATA",payload:e}},ne=F.Ry().shape({email:F.Z_().email("Սխալ էլ. հասցե").required(),password:F.Z_().required()});var ae=n(7375);const re={root:"root__3RVloPsEt",container:"container___tCDHMx8O",label:"label__2w1kakAh0",input:"input__27MRlX98v root__3SI57OErB",btnContainer:"btnContainer__4i_YAZlP1",submitBtn:"submitBtn__2lAA_cPS8 root__fOb7TSVZY"},oe={root:"root__3SI57OErB",error:"error__1yq7GX_7P",errorMessage:"errorMessage__14oYgYKCR"},le=function(e){var t=e.type,n=e.value,r=e.id,o=e.name,l=e.placeholder,c=e.maxLength,s=e.error,i=void 0===s?"":s,u=e.onChange,d=e.onBlur,m=e.style,p=b(oe,e.classes);return a.createElement(a.Fragment,null,a.createElement("input",{className:i?"".concat(p.root," ").concat(p.error):p.root,style:m,type:t,value:n,id:r,name:o,placeholder:l,maxLength:c,onChange:u,onBlur:d}),i?a.createElement("p",{className:p.errorMessage},i):null)},ce={root:"root__14J74Xo68",checkbox:"checkbox__1NJJXh_XI",label:"label__1nlS50AqN"},se=function(e){var t=e.name,n=e.checked,r=e.value,o=e.title,l=e.style,c=e.ref,s=e.label,i=e.onChange,u=b(ce,e.classes);return a.createElement("div",{className:u.root,style:l},a.createElement("input",{type:"checkbox",name:t,id:t,checked:n,value:r,ref:c,title:o,style:l,onChange:i,className:u.checkbox}),a.createElement("label",{className:u.label,htmlFor:t},s))},ie={container:"container__2AY-HrOeZ",root:"root__1XKkMz3SK",dropdown:"dropdown__3copVZH0S",option:"option__3Zbi4m7bI root__uOGf0I3-a"},ue={root:"root__uOGf0I3-a",activeOption:"activeOption__Ohud5d-If"},de=function(e){var t=e.value,n=e.label,r=e.active,o=e.onClick,l=e.style,c=b(ue,e.classes);return a.createElement("li",{"data-value":t,className:r?"".concat(c.root," ").concat(c.activeOption):c.root,onClick:o,style:l},n)},me=function(e){var t=e.label,n=void 0===t?"":t,r=e.options,o=void 0===r?[]:r,l=e.id,c=void 0===l?"":l,s=e.onChange,i=e.style,u=b(ie,e.classes),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,r=(0,a.useState)(!1),o=(0,A.Z)(r,2),l=o[0],c=o[1],s=(0,a.useState)(e),i=(0,A.Z)(s,2),u=i[0],d=i[1],m=(0,a.useCallback)((function(){c(!0)}),[]),p=(0,a.useCallback)((function(e){var n=e.value,a=e.label;d(a),c(!1),t(n)}),[t]);return(0,a.useEffect)((function(){d(e)}),[e]),(0,a.useEffect)((function(){return document.addEventListener("mousedown",(function(e){e.target.className!==n.root&&e.target.className!==n.option&&c(!1)})),function(){document.removeEventListener("mousedown",(function(e){!e.target.className===n.root&&!e.target.className===n.option&&c(!1)}))}}),[n]),{showDropdown:l,optionLabel:u,handleOnClick:m,handleOptionClick:p}}(n,s,u),m=d.showDropdown,p=d.optionLabel,f=d.handleOnClick,h=d.handleOptionClick;return a.createElement("div",{className:u.container,style:i,id:c},a.createElement("div",{className:u.root,onClick:f},p),m?a.createElement("div",{className:u.dropdown},a.createElement("ul",null,o.map((function(e,t){var n=e.value,r=e.label;return a.createElement(de,{key:n+""+t,active:p===r,value:n,classes:{root:u.option},onClick:function(){return h({value:n,label:r})},label:r})})))):null)},pe={root:"root__37P8KmJgk root__3SI57OErB",error:"error__1k1cM5xf4 error__1yq7GX_7P",errorMessage:"errorMessage__1WgQ2Ak-_ errorMessage__14oYgYKCR"},fe=function(e){var t=e.id,n=e.name,r=e.value,o=e.placeholder,l=e.error,c=void 0===l?"":l,s=e.rows,i=void 0===s?5:s,u=e.onChange,d=e.style,m=b(pe,e.classes);return a.createElement(a.Fragment,null,a.createElement("textarea",{className:c?"".concat(m.root," ").concat(m.error):m.root,style:d,value:r,id:t,name:n,placeholder:o,onChange:u,rows:i}),c?a.createElement("p",{className:m.errorMessage},c):null)};var he=n(7100),ve=n.n(he);const ge={root:"root__2jxQ5ehiX"},_e=function(e){var t=e.onChange,n=e.onError,r=e.accepts,o=void 0===r?["image/*"]:r,l=e.multiple,c=void 0!==l&&l,s=e.clickable,i=e.minFileSize,u=e.maxFileSize,d=e.maxFiles,m=e.placeholder,p=b(ge,e.classes);return a.createElement("div",{className:p.root},a.createElement(ve(),{accepts:o,maxFiles:d,minFileSize:i,maxFileSize:u,multiple:c,clickable:s,onChange:t,onError:n},m))},be={root:"root__3CtYPlPmY",heading:"heading__2duRvLkyw",container:"container__3UxH0atOU",label:"label__1lFIC6ikx"},Ee=function(e){var t=e.heading,n=e.inputs,r=void 0===n?[]:n,o=e.style,l=e.onChange,c=b(be,e.classes);return a.createElement("fieldset",{className:c.root,style:o},a.createElement("legend",{className:c.heading},t),r.map((function(e,t){var n=e.id,r=e.name,o=e.value,s=e.checked,i=e.label;return a.createElement("div",{key:t,className:c.container},a.createElement("input",{type:"radio",id:n,name:r,value:o,checked:s,onChange:l,className:c.input}),i?a.createElement("label",{htmlFor:o,className:c.label},i):null)})))},ye={root:"root__68_TCmBqI root__3CtYPlPmY",heading:"heading__3eej2Ggmw heading__2duRvLkyw",container:"container__1tCN2w6zX container__3UxH0atOU"};var Ce=n(7329);const ke=function(e){var t=e.heading,n=e.id,r=e.name,o=e.inputs,l=void 0===o?[]:o,c=e.style,s=e.onChange,i=b(ye,e.classes),u=function(e){var t=(0,a.useState)([]),n=(0,A.Z)(t,2),r=n[0],o=n[1],l=(0,a.useCallback)((function(t){var n,a=t.target;n=r.includes(a.value)?r.filter((function(e){return e!==a.value})):[].concat((0,Ce.Z)(r),[a.value]),e(n),o(n)}),[r,e]);return{values:r,handleOnChange:l}}(s),d=u.values,m=u.handleOnChange;return a.createElement("fieldset",{className:i.root,style:c},a.createElement("legend",{className:i.heading},t),l.map((function(e,t){var o=e.value,l=e.label;return a.createElement("div",{key:t,className:i.container},a.createElement(se,{name:r,id:n,value:o,checked:d.includes(o),label:l,onChange:m}))})))},Ne={root:"root__fOb7TSVZY"},we=function(e){var t=e.type,n=e.value,r=e.style,o=e.id,l=e.disabled,c=e.autoFocus,s=e.onClick,i=e.children,u=b(Ne,e.classes);return a.createElement("button",{className:u.root,style:r,type:t,value:n,id:o,onClick:s,autoFocus:c,disabled:l},i)},Oe=function(e){var t=e.fields,n=e.action,r=e.method,o=e.style,l=e.children,c=e.disableBtn,s=e.btnValue,i=e.onSubmit,u=b(re,e.classes),d=(0,a.useCallback)((function(e,t){var n=null;switch(e){case"input":n=a.createElement(le,t);break;case"checkbox":n=a.createElement(se,t);break;case"checkbox-group":n=a.createElement(ke,t);break;case"select":n=a.createElement(me,t);break;case"textarea":n=a.createElement(fe,t);break;case"files":n=a.createElement(_e,t);break;case"radio":n=a.createElement(Ee,t);break;default:n=a.createElement(le,t)}return n}),[]);return a.createElement("form",{className:u.root,style:o,action:n,method:r,onSubmit:i},t.map((function(e,t){var n=e.field,r=e.before,o=e.after,l=(0,ae.Z)(e,["field","before","after"]);return a.createElement("div",{key:t,className:u.container},r||null,d(n,l),o||null)})),a.createElement("div",{className:u.btnContainer},a.createElement(we,{type:"submit",disabled:c,classes:{root:u.submitBtn}},s)),l)},Se=function(e){var t=b(_,e.classes),n=function(){var e,t=(0,g.useMutation)(H),n=(0,A.Z)(t,1)[0],r=(0,l.I0)(),c=(0,o.k6)(),s=(0,j.useFormik)({initialValues:{email:"",password:""},validationSchema:ne,onSubmit:(e=(0,M.Z)(q().mark((function e(t){var a,o,l,s,i,u,d;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,o=t.password,e.next=3,n({variables:{email:a,password:o}});case 3:return l=e.sent,e.next=6,l.data.adminLogin;case 6:return s=e.sent,i=s.firstname,u=s.lastname,d=s.token,e.next=12,r(te({firstName:i,lastName:u,signedIn:!0,isDataFetched:!0}));case 12:localStorage.setItem("authorization",d),c.replace("/");case 14:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{fields:(0,a.useMemo)((function(){return[{field:"input",type:"text",name:"email",id:"email",value:s.values.email,placeholder:"Էլ. հասցե",onChange:s.handleChange},{field:"input",type:"password",name:"password",id:"password",value:s.values.password,placeholder:"Գաղտնաբառ",onChange:s.handleChange}]}),[s.values]),formik:s}}(),r=n.fields,c=n.formik;return a.createElement("div",{className:t.root},a.createElement("div",{className:t.formContainer},a.createElement("div",{className:t.iconContainer},a.createElement("span",{className:t.iconSignIn})),a.createElement(Oe,{action:"/",method:"POST",btnValue:"Մուտք",fields:r,onSubmit:c.handleSubmit,classes:{submitBtn:t.submitBtn}})))},xe=function(e){return a.createElement(o.rU,{to:e.add,style:{textDecoration:"none",color:"inherit"}},a.createElement("button",{className:"addButton__26eAZdMMg"},a.createElement("span",{className:"add__1URPth3aE"})))},Ie=function(e){return a.createElement("button",{className:e.idsArray.length>0?"removeButton__2LpnqGahE":"disabledRemoveButton__39l0rR8LZ removeButton__2LpnqGahE",onClick:e.handleMassRemoveButton},a.createElement("span",{className:"removeAll__3GL8wMwyh"}))};var Ze=n(2122),Pe=n(9521);const Be={contentBox:"contentBox__1LVCqOPW4",contentBoxTitle:"contentBoxTitle__moxs6DCGY",contentBoxContent:"contentBoxContent__17NA4w6iA",pagination:"pagination__z3IjD4zaB",previousPage:"previousPage__lKLfkZlsD",nextPage:"nextPage__249mJYdH8",disabled:"disabled__16E2f-FZP previousPage__lKLfkZlsD"},De=function(e){var t=(0,Pe.useTable)({columns:e.columns,data:e.data},Pe.useGlobalFilter,Pe.useSortBy,Pe.usePagination,Pe.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return a.createElement("div",null,a.createElement(se,t()))},Cell:function(e){var t=e.row;return a.createElement("div",null,a.createElement(se,t.getToggleRowSelectedProps()))}}].concat((0,Ce.Z)(e))}))})),n=t.getTableProps,r=t.getTableBodyProps,o=t.headerGroups,l=t.prepareRow,c=t.canPreviousPage,s=t.canNextPage,i=t.pageOptions,u=t.nextPage,d=t.previousPage,m=t.page,p=t.selectedFlatRows.map((function(e){return e.original.id}));return(0,a.useEffect)((function(){e.handleMassIds(p)}),[p]),a.createElement("div",{className:Be.section},a.createElement("div",{className:Be.contentBox},a.createElement("div",{className:Be.contentBoxTitle},a.createElement("h3",null,e.page," ցուցակ")),a.createElement("div",{className:Be.contentBoxContent},a.createElement("table",n(),a.createElement("thead",null,o.map((function(e,t){return a.createElement("tr",(0,Ze.Z)({key:t},e.getHeaderGroupProps()),e.headers.map((function(e,t){return a.createElement("th",(0,Ze.Z)({key:t},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"))})))}))),a.createElement("tbody",r(),m.slice(0,10).map((function(e){return l(e),a.createElement("tr",(0,Ze.Z)({key:e.id},e.getRowProps()),e.cells.map((function(e){return a.createElement("td",(0,Ze.Z)({key:e.row.id},e.getCellProps()),e.render("Cell"))})))})))),a.createElement("div",{className:Be.pagination},a.createElement("button",{className:c?Be.previousPage:Be.disabled,onClick:function(){return d()}},"նախորդ"),a.createElement("button",{className:s?Be.nextPage:Be.disabled,onClick:function(){return u()}},"հաջորդ"),a.createElement("span",null,"Էջ ",i.length)))))},Me="btnContainer__3JMOxZ6nl",Ae="adminMenuButton__2bdcyuVVc root__fOb7TSVZY",Te="adminMenuButtonActive__2qgxhHQfE adminMenuButton__2bdcyuVVc root__fOb7TSVZY",qe=function(){var e=(0,o.TH)();return a.createElement("div",{className:"section__34nGgXbAp"},a.createElement("h2",{className:"title__3Gz_hWIAm"},"Admin"),a.createElement("div",{className:"menuBar__1-Qyrea2u"},a.createElement("div",{className:Me},a.createElement(o.rU,{to:"/products"},a.createElement(we,{classes:{root:"/products"===e.pathname?Te:Ae}},"Ապրանքներ"))),a.createElement("div",{className:Me},a.createElement(o.rU,{to:"/"},a.createElement(we,{classes:{root:"/"===e.pathname?Te:Ae}},"Հաճախորդներ"))),a.createElement("div",{className:Me},a.createElement(o.rU,{to:"/categories"},a.createElement(we,{classes:{root:"/categories"===e.pathname?Te:Ae}},"Կատեգորիաներ"))),a.createElement("div",{className:Me},a.createElement(o.rU,{to:"/orders"},a.createElement(we,{classes:{root:"/orders"===e.pathname?Te:Ae}},"Պատվերներ")))))},je={root:"root__2pWJU0eqN",menuSide:"menuSide__1cvLkXp2R",contentSide:"contentSide__3RKHSL4Sr"},Fe=function(e){var t=e.children,n=b(je,e.classes);return a.createElement("div",{className:n.root},a.createElement("div",{className:n.menuSide},a.createElement(qe,null)),a.createElement("div",{className:n.contentSide},t))};var $e,He,Le,Re,Ve,Ue,Ge,We=(0,g.gql)($e||($e=(0,$.Z)(["\n  query {\n    admin {\n      firstname\n      lastname\n    }\n  }\n"]))),ze=(0,g.gql)(He||(He=(0,$.Z)(["\n  query($id: ID!) {\n    adminCustomer(id: $id) {\n      firstname\n      lastname\n      email\n    }\n  }\n"]))),Ye=(0,g.gql)(Le||(Le=(0,$.Z)(["\n  query Customer {\n    customers {\n      id\n      firstname\n      lastname\n      email\n      token\n    }\n  }\n"]))),Qe=(0,g.gql)(Re||(Re=(0,$.Z)(["\n  query($limit: Float!, $page: Float!) {\n    products(limit: $limit, page: $page) {\n      totalQty\n      products {\n        _id\n        title\n        image\n        brand\n        description\n        price\n      }\n    }\n  }\n"]))),Xe=(0,g.gql)(Ve||(Ve=(0,$.Z)(["\n  query {\n    adminGetCategories {\n      items {\n        id\n        title\n        parent\n      }\n      total\n    }\n  }\n"]))),Ke=(0,g.gql)(Ue||(Ue=(0,$.Z)(["\n  query {\n    adminOrders {\n      total\n      items {\n        id\n        orderNumber\n        grandTotal\n        totalQty\n        orderStatus\n        customer {\n          firstname\n          email\n        }\n      }\n    }\n  }\n"]))),Je=(0,g.gql)(Ge||(Ge=(0,$.Z)(["\n  query($orderId: ID) {\n    adminOrder(orderId: $orderId) {\n      id\n      orderNumber\n      createdAt\n      shippingTotal\n      subTotal\n      grandTotal\n      totalQty\n      orderStatus\n      customer {\n        firstname\n        lastname\n        email\n      }\n      items {\n        id\n        productId {\n          _id\n          title\n          image\n          brand\n          price\n        }\n        name\n        quantity\n        price\n        total\n      }\n    }\n  }\n"])));const et=function(){var e=(0,a.useState)([]),t=(0,A.Z)(e,2),n=t[0],r=t[1],c=(0,a.useState)(""),s=(0,A.Z)(c,2),i=s[0],u=s[1],d=(0,l.v9)((function(e){return e.admin})).firstName,m=(0,g.useLazyQuery)(Ye,{fetchPolicy:"no-cache"}),p=(0,A.Z)(m,2),f=p[0],h=p[1].data,v=(0,g.useMutation)(R),_=(0,A.Z)(v,1)[0],b=(0,g.useMutation)(L),E=(0,A.Z)(b,1)[0];(0,a.useEffect)((function(){f()}),[]);var y=function(){var e=(0,M.Z)(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({variables:{id:t}});case 2:f();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,M.Z)(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({variables:{customerIds:n}});case 2:f();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=(0,a.useMemo)((function(){return[{Header:"Անուն",accessor:"firstname"},{Header:"Ազգանուն",accessor:"lastname"},{Header:"Էլ. հասցե",accessor:"email"},{Header:"",accessor:"column6",Cell:function(e){return a.createElement("div",null,a.createElement(o.rU,{to:"/customer/".concat(e.row.original.id),style:{textDecoration:"none",color:"inherit"}},a.createElement("span",{className:"edit__3DeU5L61E"})),a.createElement("span",{className:"remove__3txgTj5wz",onClick:function(){return y(e.row.original.id)}}))}}]}),[]);return a.createElement(Fe,null,a.createElement("div",{className:"section__rD4jcP9q3"},a.createElement("h2",null,"Բարի Գալուստ ",d),a.createElement("div",{className:"quickActionsLinks__2PupFYdUz"},a.createElement(xe,{add:"/add-customer"})),a.createElement("div",{className:"quickActionsButtons__1nFF7Jd_p"},a.createElement(Ie,{handleMassRemoveButton:C,idsArray:n}),a.createElement(le,{type:"text",value:i,onChange:function(e){u(e.target.value)},placeholder:"Փնտրել..."})),a.createElement(De,{page:"Հաճախորդների",columns:k,data:h?h.customers:[],handleMassIds:function(e){n.length!==e.length&&r(e)}})))},tt=function(){return a.createElement(et,null)},nt=function(){var e=(0,a.useState)([]),t=(0,A.Z)(e,2),n=t[0],r=t[1],c=(0,a.useState)(""),s=(0,A.Z)(c,2),i=s[0],u=s[1],d=(0,l.v9)((function(e){return e.admin})).firstName,m=(0,g.useQuery)(Qe,{variables:{limit:10,page:1}}),p=m.data,f=m.refetch,h=(0,g.useMutation)(z),v=(0,A.Z)(h,1)[0],_=(0,a.useCallback)(function(){var e=(0,M.Z)(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({variables:{id:t}});case 2:f();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]),b=(0,a.useMemo)((function(){return[{Header:"Անվանում",accessor:"title"},{Header:"Գին",accessor:"price",Cell:function(e){return a.createElement("div",{className:"price__Dsg0biOXa"},"".concat(e.value," $"))}},{Header:"Ապրանքանիշ",accessor:"brand"},{Header:"Նկար",accessor:"image",Cell:function(e){return a.createElement("div",{className:"tableImage__Po50YlegZ"},a.createElement("img",{src:e.value,alt:"image"}))}},{Header:"Նկարագրություն",accessor:"description",Cell:function(e){return a.createElement("div",null,e.value)}},{Header:"",accessor:"column6",Cell:function(e){var t=e.row.original._id;return a.createElement("div",{style:{fontWeight:600}},a.createElement(o.rU,{to:"/product/".concat(t),style:{textDecoration:"none",color:"inherit"}},a.createElement("span",{className:"edit__3sTikRbC6"})),a.createElement("span",{className:"remove__2zqhQnrs-",onClick:function(){return _(t)}}))}}]}),[]);return a.createElement(Fe,null,a.createElement("div",{className:"section__3bkIBWyG_"},a.createElement("h2",null,"Բարի Գալուստ ",d),a.createElement("div",{className:"quickActionsLinks__1qpQYYs4S"},a.createElement(xe,{add:"/add-product"})),a.createElement("div",{className:"quickActionsButtons__1EX2CKvoh"},a.createElement(Ie,{handleMassRemoveButton:function(){},idsArray:n}),a.createElement(le,{type:"text",value:i,onChange:function(e){u(e.target.value)},placeholder:"Փնտրել..."})),a.createElement(De,{page:"Ապրանքների",columns:b,data:p?p.products.products:[],handleMassIds:function(e){n.length!==e.length&&r(e)}})))},at={root:"root__F5OzCjk_J",heading:"heading__3IdyKrl5W"},rt={root:"root__1kYV943EN root__3RVloPsEt"};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct=F.Ry().shape({title:F.Z_().required("Լրացրեք դաշտը"),brand:F.Z_().required("Լրացրեք դաշտը"),description:F.Z_().required("Լրացրեք դաշտը"),price:F.Rx().min(0,"Գինը պետք է լինի մեծ 0-ից").required("Լրացրեք դաշտը"),categories:F.IX()});const st=function(e){var t=e.type,n=void 0===t?"add":t,r=b(rt,e.classes),c=function(e){var t,n=e.type,r=(0,o.UO)().id,c=(0,o.k6)(),s=(0,l.v9)((function(e){return e.categories})),i=s.items,u=s.isDataFetched,d=(0,g.useMutation)(G),m=(0,A.Z)(d,1)[0],p=(0,g.useMutation)(W),f=(0,A.Z)(p,1)[0],h=(0,j.useFormik)({initialValues:{title:"",image:"",brand:"",description:"",price:0,categories:[]},validationSchema:ct,onSubmit:(t=(0,M.Z)(q().mark((function e(t){var a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,!t.image){e.next=6;break}return e.next=4,fetch("https://shop-yereone.herokuapp.com/single",{method:"POST",body:t.image});case 4:e.sent,a=lt(lt({},t),{},{image:t.image.name});case 6:if("add"!==n){e.next=11;break}return e.next=9,m({variables:{productInput:a}});case 9:e.next=14;break;case 11:if("update"!==n){e.next=14;break}return e.next=14,f({variables:{productId:r,productInput:a}});case 14:c.replace("/products");case 15:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}),v=(0,a.useMemo)((function(){var e=[];return u&&(e=i.map((function(e){return{value:e.id,label:e.title}}))),e}),[i]);return{fields:(0,a.useMemo)((function(){return[{field:"input",type:"text",name:"title",id:"title",value:h.values.title,error:h.touched.title?h.errors.title:"",placeholder:"Անվանում",onChange:h.handleChange,onBlur:h.handleBlur},{field:"input",type:"number",name:"price",id:"price",value:h.values.price,error:h.touched.price?h.errors.price:"",placeholder:"Գին",onChange:h.handleChange,onBlur:h.handleBlur},{field:"input",type:"text",name:"brand",id:"brand",value:h.values.brand,error:h.touched.brand?h.errors.brand:"",placeholder:"Ապրանքանիշ",onChange:h.handleChange,onBlur:h.handleBlur},{field:"checkbox-group",heading:"Կատեգորիաներ",name:"categories",id:"categories",inputs:v,onChange:function(e){h.setFieldValue("categories",e)}},{field:"textarea",type:"text",name:"description",id:"description",value:h.values.description,error:h.touched.description?h.errors.description:"",rows:8,placeholder:"Նկարագրություն",onChange:h.handleChange,onBlur:h.handleBlur},{field:"files",placeholder:"Ավելացնել նկար",accepts:["image/*"],maxFileSize:1e7,onChange:function(e){h.setFieldValue("image",e[0])}}]}),[h]),formik:h}}({type:n}),s=c.fields,i=c.formik;return a.createElement(Oe,{action:"/",method:"POST",btnValue:"update"===n?"Թարմացնել":"Ավելացնել",fields:s,onSubmit:i.handleSubmit,classes:{root:r.root}})},it=function(e){var t=b(at,e.classes);return a.createElement(Fe,null,a.createElement("div",{className:t.root},a.createElement("h1",{className:t.heading},"Ավելացնել ապրանք"),a.createElement(st,{type:"add"})))},ut={root:"root__yfmn6npAg",heading:"heading__258vw7zgS"},dt=function(e){var t=b(ut,e.classes);return a.createElement(Fe,null,a.createElement("div",{className:t.root},a.createElement("h1",{className:t.heading},"Փոխել Ապրանքի Տվյալները"),a.createElement(st,{type:"update"})))},mt={root:"root__2FTsV5LHD",heading:"heading__3o0p5hvvQ"};var pt=F.Ry().shape({firstname:F.Z_(),lastname:F.Z_(),email:F.Z_().email("Սխալ Էլ. հասցե").required("Լրացրեք դաշտը"),password:F.Z_().required("Լրացրեք դաշտը")});const ft=function(e){var t=b(mt,e.classes),n=function(){var e,t=(0,a.useState)(!1),n=(0,A.Z)(t,2),r=n[0],l=n[1],c=(0,g.useMutation)(V),s=(0,A.Z)(c,1)[0],i=(0,o.k6)(),u=(0,j.useFormik)({initialValues:{firstname:"",lastname:"",email:"",password:""},validationSchema:pt,onSubmit:(e=(0,M.Z)(q().mark((function e(t){var n,a,r,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=t.password,r=t.firstname,o=t.lastname,l(!0),e.next=4,s({variables:{email:n,password:a,firstname:r,lastname:o}});case 4:i.push("/");case 5:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{fields:(0,a.useMemo)((function(){return[{field:"input",type:"text",name:"firstname",id:"firstname",value:u.values.firstname,placeholder:"Անուն",onChange:u.handleChange},{field:"input",type:"text",name:"lastname",id:"lastname",value:u.values.lastname,placeholder:"Ազգանուն",onChange:u.handleChange},{field:"input",type:"text",name:"email",id:"email",error:u.touched.email?u.errors.email:"",value:u.values.email,placeholder:"Էլ. հասցե",onChange:u.handleChange,onBlur:u.handleBlur},{field:"input",type:"password",name:"password",id:"password",error:u.touched.password?u.errors.password:"",value:u.values.password,placeholder:"Գաղտնաբառ",onChange:u.handleChange,onBlur:u.handleBlur}]}),[u]),formik:u,disableBtn:r}}(),r=n.fields,l=n.formik,c=n.disableBtn;return a.createElement(Fe,null,a.createElement("div",{className:t.root},a.createElement("h1",{className:t.heading},"Ավելացնել հաճախորդ"),a.createElement(Oe,{action:"/",method:"POST",btnValue:"Ավելացնել",fields:r,disableBtn:c,onSubmit:l.handleSubmit})))},ht={root:"root__1CR8CwcrP",heading:"heading__29JLs_-h5"};var vt=F.Ry().shape({firstname:F.Z_(),lastname:F.Z_(),email:F.Z_().email("Սխալ Էլ. հասցե"),password:F.Z_()});const gt=function(e){var t=b(ht,e.classes),n=function(){var e,t=(0,o.UO)().id,n=(0,g.useApolloClient)(),r=(0,g.useMutation)(U),l=(0,A.Z)(r,1)[0],c=(0,o.k6)(),s=(0,j.useFormik)({initialValues:{firstname:"",lastname:"",email:"",password:""},validationSchema:vt,onSubmit:(e=(0,M.Z)(q().mark((function e(n){var a,r,o,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.email,r=n.password,o=n.firstname,s=n.lastname,a||r||o||s){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,l({variables:{id:t,customerData:{email:a,password:r,firstname:o,lastname:s}}});case 5:c.replace("/");case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}),i=(0,a.useMemo)((function(){return[{field:"input",type:"text",name:"firstname",id:"firstname",value:s.values.firstname,placeholder:"Անուն",onChange:s.handleChange},{field:"input",type:"text",name:"lastname",id:"lastname",value:s.values.lastname,placeholder:"Ազգանուն",onChange:s.handleChange},{field:"input",type:"text",name:"email",id:"email",value:s.values.email,placeholder:"Էլ. հասցե",onChange:s.handleChange},{field:"input",type:"password",name:"password",id:"password",value:s.values.password,placeholder:"Գաղտնաբառ",onChange:s.handleChange}]}),[s]);return(0,a.useEffect)((function(){(0,M.Z)(q().mark((function e(){var a,r,o,l,c;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query({query:ze,variables:{id:t}});case 2:return a=e.sent,e.next=5,a.data.adminCustomer;case 5:r=e.sent,o=r.firstname,l=r.lastname,c=r.email,s.resetForm({values:{firstname:o,lastname:l,email:c,password:""}});case 10:case"end":return e.stop()}}),e)})))()}),[]),{fields:i,formik:s}}(),r=n.fields,l=n.formik;return a.createElement(Fe,null,a.createElement("div",{className:t.root},a.createElement("h1",{className:t.heading},"Փոխել հաճախորդի Տվյալները"),a.createElement(Oe,{action:"/",method:"POST",btnValue:"թարմացնել",fields:r,disableBtn:!l.isValid,onSubmit:l.handleSubmit})))},_t=function(){var e,t,n,r,o,c,s,i,u,d,m=(0,l.v9)((function(e){return e.admin})).firstName,p=(e={edit:"edit__3x9OcHRIr",remove:"remove__1D02fN5F9"},t=(0,a.useState)([]),n=(0,A.Z)(t,2),r=n[0],o=n[1],c=(0,a.useState)(""),s=(0,A.Z)(c,2),i=s[0],u=s[1],d=function(){var e=(0,M.Z)(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,removeMassCustomers({variables:{customerIds:r}});case 2:getCustomers();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),{data:(0,a.useMemo)((function(){return[{id:0,column1:"01.01.2021",column2:"Janet",column3:"Lorem, ipsum dolor.",column4:4},{id:1,column1:"01.01.2021",column2:"Janet",column3:"Lorem, ipsum dolor.",column4:4},{id:2,column1:"01.01.2021",column2:"Janet",column3:"Lorem, ipsum dolor.",column4:4},{id:3,column1:"01.01.2021",column2:"Janet",column3:"Lorem, ipsum dolor.",column4:4}]}),[]),columns:(0,a.useMemo)((function(){return[{Header:"",accessor:"checkbox"},{Header:"Column 1",accessor:"column1"},{Header:"Column 2",accessor:"column2"},{Header:"Column 3",accessor:"column3"},{Header:"Column 4",accessor:"column4",Cell:function(e){return a.createElement("div",{style:{color:e.row.values.column2?"blue":"red",fontWeight:600}},"$",e.value)}},{Header:"Column 6",accessor:"column6",Cell:function(t){return a.createElement("div",{style:{color:t.row.values.column2?"blue":"red",fontWeight:600}},a.createElement("span",{className:e.edit}),a.createElement("span",{className:e.remove}))}}]}),[]),idsArrayState:r,searchInputValue:i,handleCustomersMassIds:function(e){r.length!==e.length&&o(e)},handleCustomersMassRemoveButton:d,handleSearchInput:function(e){u(e.target.value)}});return a.createElement(Fe,null,a.createElement("div",{className:"section__2bIGVShIw"},a.createElement("h2",null,"Բարի Գալուստ ",m),a.createElement("div",{className:"quickActionsLinks__3HwBQr5yP"},a.createElement(xe,{add:"/add-review"})),a.createElement("div",{className:"quickActionsButtons__3Lwg51R4S"},a.createElement(Ie,{handleMassRemoveButton:p.handleCustomersMassRemoveButton,idsArray:p.idsArrayState}),a.createElement(le,{type:"text",value:p.searchInputValue,onChange:p.handleSearchInput,placeholder:"Փնտրել..."})),a.createElement(De,{page:"Կարծիքների",columns:p.columns,data:p.data,handleMassIds:p.handleCustomersMassIds})))},bt={root:"root__1L2ZhECHS",header:"header__2OLtX28aJ",button:"button__3liW_uaQN addButton__26eAZdMMg",add:"add__3h1inxxWz add__1URPth3aE",container:"container__1fcMLg4vy",dataList:"dataList__2aKcylfWF",formContainer:"formContainer__oOHCgbtXF",heading:"heading__3x92ZjuXU"},Et={root:"root__dGIIzS_ve",list:"list__17W39-9Ok"},yt={name:"name__319TmKqSt",list:"list__1eddjVXgc",iconPlus:"iconPlus__1-dKOuiHF"},Ct=function e(t){var n=(0,a.useState)(!1),r=(0,A.Z)(n,2),o=r[0],l=r[1],c=t.item,s=t.onClick,i=void 0===s?function(){}:s,u=t.onIconClick,d=void 0===u?function(){}:u,m=t.displayNodeLength,p=void 0===m||m,f=b(yt,t.classes),h=(0,a.useMemo)((function(){if(c.children&&c.children.length)return c.children.map((function(t,n){return a.createElement(e,{key:t.id||n,item:t,onClick:i,onIconClick:d,displayNodeLength:p})}))}),[c,i,d,p]),v=(0,a.useCallback)((function(){i(c)}),[i]),g=(0,a.useCallback)((function(){l((function(e){return!e})),d(c)}),[d]);return a.createElement("li",{className:f.root},a.createElement("span",{className:f.iconPlus,onClick:g}),a.createElement("span",{className:f.name,onClick:v},c.name,p&&h?" (".concat(h.length,")"):null),h&&o?a.createElement("ul",{className:f.list},h):null)},kt=function(e){var t=e.data,n=void 0===t?[]:t,r=e.onNodeClick,o=e.onIconClick,l=e.displayNodeLength,c=b(Et,e.classes),s=(0,a.useMemo)((function(){return n.map((function(e,t){return a.createElement(Ct,{key:e.id||t,item:e,onClick:r,onIconClick:o,displayNodeLength:l})}))}),[n,r,o,l]);return a.createElement("div",{className:c.root},a.createElement("ul",{className:c.list},s))},Nt={root:"root__3m2ElFTvF root__3RVloPsEt",submitBtn:"submitBtn__1DCigqPP6 submitBtn__2lAA_cPS8 root__fOb7TSVZY",deleteBtn:"deleteBtn__2gtblydu_ submitBtn__1DCigqPP6 submitBtn__2lAA_cPS8 root__fOb7TSVZY"},wt=a.createContext(null);var Ot=F.Ry().shape({title:F.Z_().required("Լրացրեք դաշտը"),parent:F.Z_()});const St=function(e){var t=e.type,n=void 0===t?"add":t,r=b(Nt,e.classes),o=function(e){var t,n=e.type,r=(0,a.useContext)(wt),o=r.selectedCategory,l=r.setSelectedCategory,c=r.data,s=r.setFormType,i=r.refetch,u=(0,g.useMutation)(Y),d=(0,A.Z)(u,1)[0],m=(0,g.useMutation)(X),p=(0,A.Z)(m,1)[0],f=(0,g.useMutation)(Q),h=(0,A.Z)(f,1)[0],v=(0,j.useFormik)({initialValues:{title:o.name||"",parent:o.parent||""},validationSchema:Ot,onSubmit:(t=(0,M.Z)(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.title.trim()&&o.id!==t.parent){e.next=2;break}return e.abrupt("return");case 2:if("add"!==n){e.next=7;break}return e.next=5,d({variables:{categoryData:t}});case 5:e.next=10;break;case 7:if("update"!==n||!o.id){e.next=10;break}return e.next=10,p({variables:{categoryId:o.id,categoryData:t}});case 10:i();case 11:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),enableReinitialize:!0}),_=(0,a.useMemo)((function(){var e=[];return c&&(e=c.items.map((function(e){return{value:e.id,label:e.title}}))),e.unshift({value:"",label:"------"}),e}),[c]),b=(0,a.useMemo)((function(){return[{field:"input",type:"text",name:"title",id:"title",value:v.values.title,error:v.touched.title?v.errors.title:"",placeholder:"Անվանում",onChange:v.handleChange,onBlur:v.handleBlur},{field:"select",label:"add"===n?"------":"Ծնող",options:_,onChange:function(e){return v.setFieldValue("parent",e)}}]}),[v,n]),E=(0,a.useCallback)((0,M.Z)(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({variables:{categoryId:o.id}});case 2:i(),s("add"),l({});case 5:case"end":return e.stop()}}),e)}))),[o]);return{fields:b,formik:v,handleDeleteBtn:E}}({type:n}),l=o.fields,c=o.formik,s=o.handleDeleteBtn;return a.createElement(Oe,{action:"/",method:"POST",btnValue:"update"===n?"Թարմացնել":"Ավելացնել",fields:l,onSubmit:c.handleSubmit,classes:{root:r.root,submitBtn:r.submitBtn}},"update"===n?a.createElement(we,{type:"button",onClick:s,classes:{root:r.deleteBtn}},"Ջնջել"):null)};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const Bt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],a={},r=Zt(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,l=o.id,c=o.title,s=(0,ae.Z)(o,["id","title"]);a[l]=It({id:l,name:c},s),a[l].children=[]}}catch(e){r.e(e)}finally{r.f()}for(var i in a){var u=a[i];u.parent?a[u.parent].children.push(u):n.push(u)}return n},Dt=function(e){var t=b(bt,e.classes),n=function(){var e=(0,a.useState)("add"),t=(0,A.Z)(e,2),n=t[0],r=t[1],o=(0,a.useState)({}),l=(0,A.Z)(o,2),c=l[0],s=l[1],i=(0,g.useQuery)(Xe),u=i.data,d=i.refetch,m=(0,a.useCallback)((function(e){r("update"),s(e)}),[c]),p=(0,a.useCallback)((function(){r("add"),s({})}),[]);return{data:u&&u.adminGetCategories,refetch:d,formType:n,setFormType:r,handleNodeClick:m,handleBtnClick:p,selectedCategory:c,setSelectedCategory:s}}(),r=n.data,o=n.refetch,l=n.handleBtnClick,c=n.formType,s=n.setFormType,i=n.handleNodeClick,u=n.selectedCategory,d=n.setSelectedCategory;return a.createElement(Fe,null,a.createElement(wt.Provider,{value:{selectedCategory:u,setSelectedCategory:d,data:r,refetch:o,setFormType:s}},a.createElement("div",{className:t.root},a.createElement("div",{className:t.header},a.createElement("h1",null,"Կատեգորիաներ"),a.createElement("button",{className:t.button,onClick:l},a.createElement("span",{className:t.add}))),a.createElement("div",{className:t.container},a.createElement("div",{className:t.dataList},a.createElement(kt,{data:r?Bt(r.items):[],onNodeClick:i})),a.createElement("div",{className:t.formContainer},a.createElement("h3",{className:t.heading},"add"===c?"Ավելացնել Նոր Կատեգորիա":"Փոխել Կատեգորիայի Տվյալները"),a.createElement(St,{type:c}))))))},Mt={root:"root__Dj-YFDX38",heading:"heading__3ZptyUOju",container:"container__LMeKOUoiQ",controlBox:"controlBox__3irrVISsB",totalBox:"totalBox__3qj4Qt4tg",total:"total__1iZEzHAwu",customer:"customer__D7x_dI4DT",firstName:"firstName__tiUPcz0P6",viewLink:"viewLink__1b42lRatN",remove:"remove__38Cq4zxA9"},At=function(e){var t=b(Mt,e.classes),n=function(e){var t=e.classes,n=(0,a.useState)([]),r=(0,A.Z)(n,2),l=r[0],c=r[1],s=(0,g.useQuery)(Ke,{fetchPolicy:"no-cache"}),i=s.data,u=s.refetch,d=(0,g.useMutation)(K),m=(0,A.Z)(d,1)[0],p=(0,g.useMutation)(J),f=(0,A.Z)(p,1)[0],h=(0,a.useCallback)(function(){var e=(0,M.Z)(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({variables:{orderId:t}});case 2:u();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]),v=(0,a.useCallback)(function(){var e=(0,M.Z)(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({variables:{orderIds:t}});case 2:u();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]),_=(0,a.useCallback)((function(e){l.length!==e.length&&c(e)}),[l,c]),b=(0,a.useMemo)((function(){return[{Header:"Կոդ",accessor:"orderNumber",Cell:function(e){var t=e.row.original.orderNumber;return a.createElement("span",null,"#".concat(t))}},{Header:"հաճախորդ",accessor:"email",Cell:function(e){var n=e.row.original.customer,r=n.email,o=n.firstname;return a.createElement("div",{className:t.customer},a.createElement("span",{className:t.firstName},o),a.createElement("span",null,r))}},{Header:"Գումար",accessor:"grandTotal"},{Header:"Քանակ",accessor:"totalQty"},{Header:"Կարգավիճակ",accessor:"orderStatus"},{Header:"",accessor:"column6",Cell:function(e){return a.createElement("div",null,a.createElement("span",{className:t.remove,onClick:function(){return h(e.row.original.id)}}))}},{Header:"",accessor:"column7",Cell:function(e){return a.createElement("div",null,a.createElement(o.rU,{to:"/order/".concat(e.row.original.id),className:t.viewLink},"View"))}}]}),[t]);return{data:i,refetch:u,columns:b,handleDeleteOrder:h,handleMassDeleteOrder:v,handleOrdersMassIds:_,idsArray:l}}({classes:t}),r=n.data,l=n.columns,c=n.handleOrdersMassIds,s=n.handleMassDeleteOrder,i=n.idsArray;return a.createElement(Fe,null,a.createElement("div",{className:t.root},a.createElement("h1",{className:t.heading},"Պատվերներ"),a.createElement("div",{className:t.container},a.createElement("div",{className:t.controlBox},a.createElement(Ie,{handleMassRemoveButton:s,idsArray:i}),a.createElement("div",{className:t.totalBox},a.createElement("p",{className:t.total},r?"Ընդհանուր - ".concat(r.adminOrders.total):"..."))),a.createElement(De,{page:"Պատվերներ",columns:l,data:r?r.adminOrders.items:[],handleMassIds:c}))))},Tt={root:"root__3r64TGUUb",header:"header__1WLFxR60e",container:"container__3Pt-ajgkk",orderDetails:"orderDetails__fTEc2WCCZ",detailsName:"detailsName__3IdPziGcL",selectBox:"selectBox__33GG6Esz7",customer:"customer__1wWgwxDbl",customerFirstName:"customerFirstName__3W_cqS5hn",btn:"btn__34i1--VTp removeButton__2LpnqGahE",removeIcon:"removeIcon__1HkBOSSev removeAll__3GL8wMwyh",itemTotal:"itemTotal__KCxk-XQgS",itemsTableContainer:"itemsTableContainer___q5fHgwZA"},qt={container:"container__IPeF0dYQS",header:"header__1WIm-3mAf",tableContainer:"tableContainer__394RyIrRE"},jt=function(e){var t=e.columns,n=e.data,r=e.title,o=void 0===r?"":r,l=b(qt,e.classes),c=(0,Pe.useTable)({columns:t,data:n},Pe.useSortBy,Pe.useRowSelect),s=c.getTableProps,i=c.getTableBodyProps,u=c.headerGroups,d=c.rows,m=c.prepareRow;return a.createElement("div",{className:l.container},o?a.createElement("div",{className:l.header},a.createElement("h3",null,o)):null,a.createElement("div",{className:l.tableContainer},a.createElement("table",s(),a.createElement("thead",null,u.map((function(e,t){return a.createElement("tr",(0,Ze.Z)({key:t},e.getHeaderGroupProps()),e.headers.map((function(e,t){return a.createElement("th",(0,Ze.Z)({key:t},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"))})))}))),a.createElement("tbody",i(),d.slice(0,10).map((function(e){return m(e),a.createElement("tr",(0,Ze.Z)({key:e.id},e.getRowProps()),e.cells.map((function(e){return a.createElement("td",(0,Ze.Z)({key:e.row.id},e.getCellProps()),e.render("Cell"))})))}))))))},Ft=function(e){var t=b(Tt,e.classes),n=function(e){var t=e.classes,n=(0,a.useState)(""),r=(0,A.Z)(n,2),l=r[0],c=r[1],s=(0,o.UO)().id,i=(0,o.k6)(),u=(0,g.useQuery)(Je,{variables:{orderId:s},fetchPolicy:"no-cache"}).data,d=(0,g.useMutation)(K,{variables:{orderId:s}}),m=(0,A.Z)(d,1)[0],p=(0,g.useMutation)(ee),f=(0,A.Z)(p,1)[0],h=(0,a.useCallback)((0,M.Z)(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:i.replace("/orders");case 3:case"end":return e.stop()}}),e)}))),[i]),v=(0,a.useCallback)(function(){var e=(0,M.Z)(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===l){e.next=3;break}return e.next=3,f({variables:{orderId:s,status:t}});case 3:c(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,l]),_=(0,a.useMemo)((function(){return[{Header:"Անվանում",accessor:"name"},{Header:"Գին",accessor:"price",Cell:function(e){return a.createElement("span",null,"".concat(e.row.original.price," $"))}},{Header:"Քանակ",accessor:"quantity"},{Header:"Ընդհանուր",accessor:"total",Cell:function(e){return a.createElement("span",{className:t.itemTotal},"".concat(e.row.original.total," $"))}}]}),[l,t]);return(0,a.useEffect)((function(){u&&c(u.adminOrder.orderStatus)}),[u]),{data:u,handleDeleteOrder:h,orderItemsTable:_,status:l,handleOrderStatusChange:v}}({classes:t}),r=n.data,l=n.handleDeleteOrder,c=n.orderItemsTable,s=n.status,i=n.handleOrderStatusChange;return a.createElement(Fe,null,a.createElement("div",{className:t.root},a.createElement("div",{className:t.header},a.createElement("h1",{className:t.heading},"Պատվեր ",r?"#".concat(r.adminOrder.orderNumber):"..."),a.createElement(we,{onClick:l,classes:{root:t.btn}},a.createElement("span",{className:t.removeIcon}))),a.createElement("div",{className:t.container},a.createElement("div",{className:t.orderDetails},r?a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement("span",{className:t.detailsName},"Կոդ:"),"#".concat(r.adminOrder.orderNumber)),a.createElement("div",null,a.createElement("span",{className:t.detailsName},"հաճախորդ:"),a.createElement("div",{className:t.customer},a.createElement("span",{className:t.customerFirstName},"Անուն - ",r.adminOrder.customer.firstname),a.createElement("span",null,"Էլ. Հասցե - ",r.adminOrder.customer.email))),a.createElement("div",null,a.createElement("span",{className:t.detailsName},"Գումար:"),"".concat(r.adminOrder.subTotal," $")),a.createElement("div",null,a.createElement("span",{className:t.detailsName},"Առաքում:"),"".concat(r.adminOrder.shippingTotal," $")),a.createElement("div",null,a.createElement("span",{className:t.detailsName},"Ընդհանուր:"),a.createElement("span",{className:t.itemTotal},"".concat(r.adminOrder.grandTotal," $"))),a.createElement("div",null,a.createElement("span",{className:t.detailsName},"Քանակ:"),r.adminOrder.totalQty),a.createElement("div",null,a.createElement("span",{className:t.detailsName},"Ստեղծվել է:  "),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e||(e=Date());var t=new Date(e),n=["հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],a=t.getFullYear(),r=t.getDate(),o=t.getMonth(),l=n[o];return"".concat(r," / ").concat(l," / ").concat(a)}(Number(r.adminOrder.createdAt))),a.createElement("div",null,a.createElement("span",{className:t.detailsName},"Կարգավիճակ:"),a.createElement("div",{className:t.selectBox},a.createElement(me,{id:"orderStatus",label:s,options:[{value:"pending",label:"pending"},{value:"active",label:"active"},{value:"done",label:"done"}],onChange:function(e){return i(e)}})))):null),a.createElement("div",{className:t.itemsTableContainer},a.createElement(jt,{title:"Ապրանքներ",columns:c,data:r?r.adminOrder.items:[]})))))},$t=function(){var e=(0,l.v9)((function(e){return e.admin})).signedIn;return a.createElement(o.rs,null,e?a.createElement(a.Fragment,null,a.createElement(o.AW,{exact:!0,path:"/"},a.createElement(tt,null)),a.createElement(o.AW,{path:"/products"},a.createElement(nt,null)),a.createElement(o.AW,{path:"/add-product"},a.createElement(it,null)),a.createElement(o.AW,{path:"/product/:id"},a.createElement(dt,null)),a.createElement(o.AW,{path:"/categories"},a.createElement(Dt,null)),a.createElement(o.AW,{path:"/add-customer"},a.createElement(ft,null)),a.createElement(o.AW,{path:"/customer/:id"},a.createElement(gt,null)),a.createElement(o.AW,{path:"/reviews"},a.createElement(_t,null)),a.createElement(o.AW,{path:"/orders"},a.createElement(At,null)),a.createElement(o.AW,{path:"/order/:id"},a.createElement(Ft,null))):a.createElement(o.AW,{path:"/sign-in"},a.createElement(Se,null)))},Ht={container:"container__7LoF5Pqxi",root:"root__2YwkLETwb"},Lt=function(e){var t=b(Ht,e.classes);return a.createElement("div",{className:t.container},a.createElement("div",{className:t.root}))},Rt=function(){var e=(0,l.v9)((function(e){return e.admin})).isDataFetched;return function(e){var t=(0,g.useApolloClient)(),n=(0,l.I0)(),r=(0,o.k6)();(0,a.useEffect)((function(){(0,M.Z)(q().mark((function a(){var o,l,c,s,i,u,d,m;return q().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.getItem(e)){a.next=22;break}return a.next=4,t.query({query:We,fetchPolicy:"no-cache"});case 4:return o=a.sent,a.next=7,o.data.admin;case 7:return l=a.sent,c=l.firstname,s=l.lastname,n(te({firstName:c,lastName:s,signedIn:!0,isDataFetched:!0})),a.next=13,t.query({query:Xe,fetchPolicy:"no-cache"});case 13:return i=a.sent,a.next=16,i.data.adminGetCategories;case 16:u=a.sent,d=u.items,m=u.total,n({type:"SET_CATEGORIES",payload:{items:d,total:m,isDataFetched:!0}}),a.next=24;break;case 22:n(te({isDataFetched:!0})),r.replace("/sign-in");case 24:return a.abrupt("return",{});case 25:case"end":return a.stop()}}),a)})))()}),[])}("authorization"),e?a.createElement("div",{className:"app"},a.createElement($t,null)):a.createElement(Lt,null)};var Vt=new g.HttpLink({uri:"https://shop-yereone.herokuapp.com"}),Ut=new g.ApolloLink((function(e,t){return e.setContext({headers:{authorization:"Bearer "+localStorage.getItem("authorization")||0,locale:"hy_AM"}}),t(e)})),Gt=new g.ApolloClient({link:(0,g.concat)(Ut,Vt),cache:new g.InMemoryCache});r.render(a.createElement(a.StrictMode,null,a.createElement(g.ApolloProvider,{client:Gt},a.createElement(l.zt,{store:v},a.createElement(o.UT,null,a.createElement(Rt,null))))),document.getElementById("root"))}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=t,e=[],a.O=(t,n,r,o)=>{if(!n){var l=1/0;for(i=0;i<e.length;i++){for(var[n,r,o]=e[i],c=!0,s=0;s<n.length;s++)(!1&o||l>=o)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(c=!1,o<l&&(l=o));c&&(e.splice(i--,1),t=r())}return t}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[n,r,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[l,c,s]=n,i=0;for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(s)var u=s(a);for(t&&t(n);i<l.length;i++)o=l[i],a.o(e,o)&&e[o]&&e[o][0](),e[l[i]]=0;return a.O(u)},n=self.webpackChunkshop_admin=self.webpackChunkshop_admin||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[121],(()=>a(7840)));r=a.O(r)})();
//# sourceMappingURL=041c349d88199768f2cb.main.js.map